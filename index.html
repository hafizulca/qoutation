<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilih Pelan Takaful Anda - Interaktif WhatsApp</title>
    <style>
        /* --- CSS STYLING --- */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        /* Container untuk Dropdown Pelan & Kelas */
        .selection-container {
            max-width: 500px;
            margin: 0 auto 30px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .selection-container label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #444;
        }

        #plan-selector, #class-selector {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            background-color: #f9f9f9;
        }

        /* --- CSS Borang Quick Fill --- */
        .quick-fill-form {
            max-width: 500px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #1a73e8;
        }

        .quick-fill-form h3 {
            text-align: center;
            color: #1a73e8;
            margin-top: 0;
        }

        .quick-fill-form p {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: normal;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .submit-btn {
            background-color: #4CAF50; /* Hijau WhatsApp */
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            transition: background-color 0.3s;
        }

        .submit-btn:hover {
            background-color: #45a049;
        }

        /* --- CSS Output Butiran Pelan --- */
        .details-output {
            max-width: 500px;
            margin: 0 auto;
            min-height: 250px;
            text-align: center;
        }

        .placeholder-text {
            color: #999;
            padding-top: 50px;
            font-style: italic;
        }

        .plan-card {
            background-color: #fff;
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .plan-card h2 {
            color: #1a73e8;
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 22px;
            text-align: center;
        }

        .plan-card .price {
            font-size: 28px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            display: block;
        }

        .plan-card .tagline {
            font-style: italic;
            color: #777;
            margin-bottom: 15px;
        }

        .plan-card .features {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
        }

        .plan-card .features li {
            margin-bottom: 8px;
            color: #444;
        }

        /* Gaya POPULAR */
        .plan-card.popular {
            border-color: #ff9800;
            box-shadow: 0 0 20px rgba(255, 152, 0, 0.4);
        }

        .plan-card.popular h2 {
            color: #ff9800;
        }

        .plan-card button {
            background-color: #1a73e8;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .plan-card button:hover {
            background-color: #0d47a1;
        }

        .plan-card .popular-btn {
            background-color: #ff9800;
        }
        .plan-card .popular-btn:hover {
            background-color: #e68900;
        }

        /* CSS untuk Output Nombor Telefon (Kini tidak digunakan untuk memaparkan nombor) */
        .contact-output {
            display: none !important;
        }
    </style>
</head>
<body>

    <h1>Pilih Pelan Takaful Anda</h1>
    
    <div class="selection-container">
        
        <label for="plan-selector">Sila Pilih Pelan Perlindungan:</label>
        <select id="plan-selector" onchange="showClassSelector(this.value)">
            <option value="">-- Pilih Jenis Pelan --</option>
            <option value="sandar">1. Sandar (Asas)</option>
            <option value="pagar">2. Pagar (Sederhana)</option>
            <option value="kubu" data-popular="true">3. Kubu (Pilihan Ramai ‚≠ê)</option>
            <option value="perisai">4. Perisai (Premium)</option>
        </select>

        <div id="class-selection-area" style="display: none; margin-top: 15px;">
            <label for="class-selector">Sila Pilih Kelas:</label>
            <select id="class-selector" onchange="displayPlanDetails()">
                <option value="">-- Pilih Gred Kelas --</option>
                <option value="1">Kelas 1</option>
                <option value="2">Kelas 2</option>
                <option value="3">Kelas 3</option>
                <option value="4">Kelas 4</option>
            </select>
        </div>
    </div>

    <div class="quick-fill-form">
        <h3>Langkah Pantas: Minta Maklumat Lanjut</h3>
        <p>Isi borang ringkas ini dan terus WhatsApp kami!</p>
        <form id="quickContactForm">
            <div class="form-group">
                <label for="fullName">Nama Penuh:</label>
                <input type="text" id="fullName" required>
            </div>
            <div class="form-group">
                <label for="birthDate">Tarikh Lahir:</label>
                <input type="date" id="birthDate" required>
            </div>
            <div class="form-group">
                <label for="occupation">Pekerjaan:</label>
                <input type="text" id="occupation" required>
            </div>
            <button type="submit" class="submit-btn">üì≤ WhatsApp Sekarang</button>
        </form>
    </div>

    <div id="plan-details-output" class="details-output">
        <p class="placeholder-text">Sila buat pilihan anda dari menu di atas untuk melihat butiran penuh pelan dan harga.</p>
    </div>

    <div id="plan-data" style="display: none;">
        
        <div data-plan-class="sandar-1" data-price="RM 100/bln">
            <p class="tagline">Sandar K1: Perlindungan Asas Bajet.</p>
            <ul class="features"><li>‚úÖ Kematian (Asas)</li><li>‚úÖ Kemalangan (Asas)</li><li>‚ùå Kritikal</li></ul>
        </div>
        <div data-plan-class="pagar-2" data-price="RM 180/bln">
            <p class="tagline">Pagar K2: Ketenangan Fikiran Pilihan Tengah.</p>
            <ul class="features"><li>‚úÖ Kematian (Sederhana)</li><li>‚úÖ Kritikal (Asas)</li><li>‚ùå Tunai Hospital</li></ul>
        </div>
        
        <div data-plan-class="kubu-3" data-price="RM 250/bln" data-popular="true">
            <p class="tagline">Kubu K3: Pilihan Ramai, Nilai Terbaik dan Menyeluruh.</p>
            <ul class="features"><li>‚úÖ Kematian (Tinggi)</li><li>‚úÖ Kritikal (Penuh)</li><li>‚úÖ Tunai Hospital</li></ul>
        </div>
        
        <div data-plan-class="perisai-4" data-price="RM 350/bln">
            <p class="tagline">Perisai K4: Jaminan Premium dan Warisan Terbaik.</p>
            <ul class="features"><li>‚úÖ Kematian (Premium)</li><li>‚úÖ Kritikal (Penuh 2X)</li><li>‚úÖ Tunai Hospital (2X)</li></ul>
        </div>
        
        </div>
    
    <script>
        // --- JAVASCRIPT LOGIC ---
        
        function clearDetails() {
            const outputArea = document.getElementById('plan-details-output');
            outputArea.innerHTML = '<p class="placeholder-text">Sila buat pilihan anda dari menu di atas untuk melihat butiran penuh pelan dan harga.</p>';
            outputArea.classList.remove('active', 'popular');
        }

        function showClassSelector(selectedPlan) {
            const classArea = document.getElementById('class-selection-area');
            const classSelector = document.getElementById('class-selector');

            clearDetails(); 

            if (selectedPlan) {
                classArea.style.display = 'block';
                classSelector.value = ''; 
            } else {
                classArea.style.display = 'none';
            }
        }

        function displayPlanDetails() {
            const selectedPlan = document.getElementById('plan-selector').value;
            const selectedClass = document.getElementById('class-selector').value;
            const outputArea = document.getElementById('plan-details-output');
            
            clearDetails(); 

            if (!selectedPlan || !selectedClass) {
                return;
            }

            const dataKey = `${selectedPlan}-${selectedClass}`;
            const planDataContainer = document.querySelector(`div[data-plan-class="${dataKey}"]`);
            
            if (planDataContainer) {
                const planNameOption = document.querySelector(`#plan-selector option[value="${selectedPlan}"]`).textContent;
                const price = planDataContainer.getAttribute('data-price');
                const isPopular = planDataContainer.getAttribute('data-popular') === 'true';

                const fullPlanName = `${planNameOption} - Kelas ${selectedClass}`;
                
                let content = `
                    <div class="plan-card ${isPopular ? 'popular' : ''}">
                        <h2>${fullPlanName}</h2>
                        <div class="price">${price}</div>
                        ${planDataContainer.innerHTML}
                        <button class="select-btn ${isPopular ? 'popular-btn' : ''}">Pilih Pelan Ini</button>
                    </div>
                `;
                
                outputArea.innerHTML = content;
                outputArea.classList.add('active');
                if (isPopular) {
                    outputArea.classList.add('popular');
                } else {
                    outputArea.classList.remove('popular');
                }
            } else {
                outputArea.innerHTML = `<p class="placeholder-text">Butiran Pelan ${dataKey} belum tersedia. Sila pilih kombinasi lain atau hubungi ejen.</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const contactForm = document.getElementById('quickContactForm');
            
            // --- NOMBOR TELEFON ANDA DIGUNAKAN UNTUK MENGARAHKAN MESEJ ---
            const myWhatsAppNumber = '601125517767'; 

            contactForm.addEventListener('submit', (e) => {
                e.preventDefault(); 
                
                const name = document.getElementById('fullName').value;
                const dob = document.getElementById('birthDate').value;
                const occupation = document.getElementById('occupation').value; 
                
                // Bina mesej WhatsApp yang KEMAS dan TERSUSUN
                // Nombor telefon pelanggan tidak dimasukkan ke dalam mesej
                const message = `Salam.%0A%0ASaya *${name}* berminat dengan pelan Takaful.%0A%0A*Maklumat Saya:*%0A Tarikh Lahir: ${dob}%0A Pekerjaan: ${occupation}%0A%0AHarap dapat hubungi saya segera. Terima kasih.`;
                
                const encodedMessage = encodeURIComponent(message);

                // Buka WhatsApp
                const whatsappURL = `https://wa.me/${myWhatsAppNumber}?text=${encodedMessage}`;
                window.open(whatsappURL, '_blank');
                
                // Kosongkan borang
                contactForm.reset();
            });
        });
    </script>

</body>
</html>
